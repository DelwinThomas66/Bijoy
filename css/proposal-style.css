@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&family=Dancing+Script:wght@400;700&display=swap');

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Playfair Display', serif;
    background: linear-gradient(135deg, #1a0933 0%, #2d1b4e 50%, #1a0933 100%);
    background-size: 200% 200%;
    animation: gradientShift 15s ease infinite;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
}

@keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

/* Stars background */
.stars-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.stars-container::before,
.stars-container::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    box-shadow:
        50px 50px white, 150px 80px white, 250px 120px white,
        350px 60px white, 450px 140px white, 550px 90px white,
        100px 200px white, 200px 250px white, 300px 180px white,
        400px 220px white, 500px 270px white, 600px 210px white,
        80px 350px white, 180px 380px white, 280px 320px white,
        380px 360px white, 480px 390px white, 580px 340px white,
        120px 450px white, 220px 490px white, 320px 470px white,
        420px 510px white, 520px 480px white, 620px 500px white,
        700px 100px white, 750px 200px white, 800px 150px white,
        850px 250px white, 900px 180px white, 950px 220px white;
    animation: twinkle 4s ease-in-out infinite;
}

.stars-container::after {
    animation-delay: 2s;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* Floating hearts background */
.floating-hearts-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
    opacity: 0.3;
}

.proposal-container {
    position: relative;
    z-index: 10;
    width: 90%;
    max-width: 800px;
    text-align: center;
    animation: containerFadeIn 2s ease-out;
}

@keyframes containerFadeIn {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.glow-effect {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(233, 30, 99, 0.3), transparent 70%);
    border-radius: 50%;
    animation: glowPulse 4s ease-in-out infinite;
    pointer-events: none;
}

@keyframes glowPulse {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.5;
    }
    50% {
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0.8;
    }
}

.content-wrapper {
    position: relative;
}

/* Ring Box */
.ring-box-container {
    margin-bottom: 60px;
}

.ring-box {
    width: 200px;
    height: 200px;
    margin: 0 auto;
    position: relative;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.ring-box:hover {
    transform: scale(1.05);
}

.box-base {
    width: 180px;
    height: 100px;
    background: linear-gradient(135deg, #8b0000 0%, #dc143c 50%, #8b0000 100%);
    border-radius: 10px;
    position: absolute;
    bottom: 0;
    left: 10px;
    box-shadow:
        0 10px 40px rgba(220, 20, 60, 0.6),
        inset 0 -5px 20px rgba(0, 0, 0, 0.4);
    display: flex;
    justify-content: center;
    align-items: center;
}

.box-lid {
    width: 180px;
    height: 90px;
    background: linear-gradient(135deg, #8b0000 0%, #dc143c 50%, #8b0000 100%);
    border-radius: 10px 10px 5px 5px;
    position: absolute;
    top: 10px;
    left: 10px;
    box-shadow:
        0 5px 20px rgba(220, 20, 60, 0.6),
        inset 0 2px 10px rgba(255, 255, 255, 0.2);
    transform-origin: bottom;
    transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.ring-box.open .box-lid {
    transform: rotateX(-120deg);
}

.box-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 250px;
    height: 250px;
    background: radial-gradient(circle, rgba(255, 215, 0, 0.4), transparent);
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.8s ease;
}

.ring-box.open .box-glow {
    opacity: 1;
    animation: boxGlowPulse 2s ease-in-out infinite;
}

@keyframes boxGlowPulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.1); }
}

.ring {
    width: 80px;
    height: 100px;
    position: relative;
    opacity: 0;
    transform: scale(0.5) translateY(20px);
    transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.4s;
}

.ring-box.open .ring {
    opacity: 1;
    transform: scale(1) translateY(-30px);
}

.ring-band {
    width: 60px;
    height: 20px;
    background: linear-gradient(135deg, #ffd700 0%, #ffed4e 50%, #ffd700 100%);
    border-radius: 50%;
    position: absolute;
    bottom: 0;
    left: 10px;
    box-shadow:
        0 5px 15px rgba(255, 215, 0, 0.6),
        inset 0 3px 8px rgba(255, 255, 255, 0.6),
        inset 0 -3px 8px rgba(0, 0, 0, 0.4);
    animation: ringShine 3s ease-in-out infinite;
}

.ring-band::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 30px;
    background: radial-gradient(ellipse, transparent 40%, #ffd700 41%, #ffed4e 50%, #ffd700 60%);
    border-radius: 50%;
}

@keyframes ringShine {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.3); }
}

.diamond {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    animation: diamondSparkle 2s ease-in-out infinite;
}

/* Diamond top facet */
.diamond::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-bottom: 20px solid #e3f2fd;
    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 1));
}

/* Diamond middle section */
.diamond::after {
    content: '';
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 25px solid #bbdefb;
    filter: drop-shadow(0 5px 10px rgba(173, 216, 230, 0.8));
}

@keyframes diamondSparkle {
    0%, 100% {
        transform: translateX(-50%) scale(1) rotate(0deg);
        filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.8)) drop-shadow(0 0 25px rgba(173, 216, 230, 0.6));
    }
    50% {
        transform: translateX(-50%) scale(1.1) rotate(15deg);
        filter: drop-shadow(0 0 25px rgba(255, 255, 255, 1)) drop-shadow(0 0 40px rgba(173, 216, 230, 1));
    }
}

/* Add sparkle reflections on diamond */
.diamond-sparkle {
    position: absolute;
    top: 5px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    background: white;
    border-radius: 50%;
    box-shadow: 
        0 0 10px white,
        0 0 20px rgba(173, 216, 230, 0.8);
    animation: sparkleReflection 1.5s ease-in-out infinite;
}

@keyframes sparkleReflection {
    0%, 100% {
        opacity: 0.7;
        transform: translateX(-50%) scale(1);
    }
    50% {
        opacity: 1;
        transform: translateX(-50%) scale(1.5);
    }
}

.click-hint {
    margin-top: 30px;
    font-family: 'Dancing Script', cursive;
    font-size: 1.4em;
    color: #ffd700;
    animation: hintBounce 2s ease-in-out infinite;
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

@keyframes hintBounce {
    0%, 100% { transform: translateY(0); opacity: 0.7; }
    50% { transform: translateY(-10px); opacity: 1; }
}

.ring-box.open + .click-hint {
    opacity: 0;
    pointer-events: none;
}

/* Message Container */
.message-container {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s ease 0.8s;
}

.message-container.show {
    opacity: 1;
    transform: translateY(0);
}

.proposal-title {
    font-family: 'Great Vibes', cursive;
    font-size: 4em;
    color: #ffd700;
    margin-bottom: 40px;
    text-shadow:
        0 0 20px rgba(255, 215, 0, 0.8),
        0 0 40px rgba(255, 215, 0, 0.4);
    animation: titleGlow 3s ease-in-out infinite;
}

@keyframes titleGlow {
    0%, 100% {
        text-shadow:
            0 0 20px rgba(255, 215, 0, 0.8),
            0 0 40px rgba(255, 215, 0, 0.4);
    }
    50% {
        text-shadow:
            0 0 30px rgba(255, 215, 0, 1),
            0 0 60px rgba(255, 215, 0, 0.6);
    }
}

.proposal-message {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    padding: 40px;
    border-radius: 20px;
    margin-bottom: 40px;
    border: 2px solid rgba(255, 215, 0, 0.3);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
}

.proposal-message p {
    color: white;
    font-size: 1.3em;
    line-height: 1.8;
    margin-bottom: 20px;
    animation: textFadeIn 1s ease forwards;
    opacity: 0;
}

.proposal-message p:nth-child(1) { animation-delay: 1s; }
.proposal-message p:nth-child(2) { animation-delay: 1.3s; }
.proposal-message p:nth-child(3) { animation-delay: 1.6s; }

@keyframes textFadeIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
    from {
        opacity: 0;
        transform: translateY(10px);
    }
}

.highlight {
    color: #ffd700 !important;
    font-weight: bold;
    font-size: 1.1em !important;
}

.final-words {
    margin-top: 50px;
}

.romantic-text {
    font-family: 'Great Vibes', cursive;
    font-size: 3.5em;
    color: #ff69b4;
    margin-bottom: 20px;
    animation: romanticPulse 2s ease-in-out infinite;
    text-shadow:
        0 0 20px rgba(255, 105, 180, 0.8),
        0 0 40px rgba(255, 105, 180, 0.4);
}

@keyframes romanticPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.instruction {
    font-family: 'Dancing Script', cursive;
    font-size: 1.6em;
    color: #ffffff;
    opacity: 0.9;
    animation: instructionBlink 3s ease-in-out infinite;
}

@keyframes instructionBlink {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* Hearts explosion */
.hearts-explosion {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1000;
}

/* Responsive */
@media (max-width: 768px) {
    .proposal-title {
        font-size: 2.5em;
    }
    
    .proposal-message {
        padding: 25px;
    }
    
    .proposal-message p {
        font-size: 1.1em;
    }
    
    .romantic-text {
        font-size: 2.5em;
    }
    
    .instruction {
        font-size: 1.3em;
    }
    
    .ring-box {
        width: 160px;
        height: 160px;
    }
    
    .box-base, .box-lid {
        width: 140px;
    }
    
    .volume-control {
        bottom: 15px;
        right: 15px;
    }
}

/* Music Volume Control */
.volume-control {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    padding: 15px 20px;
    border-radius: 50px;
    border: 2px solid rgba(255, 215, 0, 0.3);
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
    animation: volumeFadeIn 2s ease-out 3s forwards;
    opacity: 0;
}

@keyframes volumeFadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.volume-control:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 215, 0, 0.5);
    transform: scale(1.05);
}

.music-icon {
    font-size: 1.5em;
    cursor: pointer;
    transition: transform 0.3s ease;
    animation: musicPulse 2s ease-in-out infinite;
}

@keyframes musicPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.music-icon:hover {
    transform: scale(1.2);
}

.volume-slider {
    width: 100px;
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    outline: none;
    cursor: pointer;
    -webkit-appearance: none;
    appearance: none;
}

.volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
    transition: all 0.3s ease;
}

.volume-slider::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 0 15px rgba(255, 215, 0, 1);
}

.volume-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
    transition: all 0.3s ease;
}

.volume-slider::-moz-range-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 0 15px rgba(255, 215, 0, 1);
}

.volume-slider::-webkit-slider-runnable-track {
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
}

.volume-slider::-moz-range-track {
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
}

.mute-btn {
    background: none;
    border: none;
    color: #ffd700;
    cursor: pointer;
    font-size: 1.2em;
    padding: 0;
    transition: all 0.3s ease;
}

.mute-btn:hover {
    transform: scale(1.15);
    filter: brightness(1.3);
}

.music-note {
    position: fixed;
    font-size: 2em;
    opacity: 0;
    pointer-events: none;
    z-index: 999;
    animation: floatNote 4s ease-out forwards;
}

@keyframes floatNote {
    0% {
        opacity: 0;
        transform: translateY(0) rotate(0deg);
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        opacity: 0;
        transform: translateY(-200px) rotate(360deg);
    }
}